---
title: "ProcessWeatherData"
format: html
editor: visual
---

```{r}
library(tidyverse)
library(plotly)
library(rafalib)
```

```{r}
rainfall_066214 = read.csv("Rainfall_006214/IDCJAC0009_066214_1800_Data.csv", header = TRUE)
rainfall_066006 = read.csv("Rainfall_066006/IDCJAC0009_066006_1800_Data.csv", header = TRUE)
rainfall_066013 = read.csv("Rainfall_066013/IDCJAC0009_066013_1800_Data.csv", header = TRUE)
rainfall_066124 = read.csv("Rainfall_066124/IDCJAC0009_066124_1800_Data.csv", header = TRUE)
rainfall_066213 = read.csv("Rainfall_066213/IDCJAC0009_066213_1800_Data.csv", header = TRUE)

maxTemp_066214 = read.csv("MaxTemp_066214/IDCJAC0010_066214_1800_Data.csv", header = TRUE)
minTemp_066214 = read.csv("MinTemp_066214/IDCJAC0011_066214_1800_Data.csv", header = TRUE)

minTemp_066124 = read.csv("MinTemp_066124/IDCJAC0011_066124_1800_Data.csv", header = TRUE)
maxTemp_066124 = read.csv("MaxTemp_066124/IDCJAC0010_066124_1800_Data.csv", header = TRUE)

maxTemp_066212 = read.csv("MaxTemp_066212/IDCJAC0010_066212_1800_Data.csv", header = TRUE)
minTemp_066212 = read.csv("MinTemp_066212/IDCJAC0011_066212_1800_Data.csv", header = TRUE)

```

Clean rainfall

```{r}
rainfall_066214 = rename(rainfall_066214, Rainfall = Rainfall.amount..millimetres.)
rainfall_066214 <- subset(rainfall_066214, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

rainfall_066006 = rename(rainfall_066006, Rainfall = Rainfall.amount..millimetres.)
rainfall_066006 <- subset(rainfall_066006, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

rainfall_066013 = rename(rainfall_066013, Rainfall = Rainfall.amount..millimetres.)
rainfall_066013 <- subset(rainfall_066013, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

rainfall_066124 = rename(rainfall_066124, Rainfall = Rainfall.amount..millimetres.)
rainfall_066124 <- subset(rainfall_066124, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

rainfall_066213 = rename(rainfall_066213, Rainfall = Rainfall.amount..millimetres.)
rainfall_066213 <- subset(rainfall_066213, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

```

Clean maxTemp

```{r}
maxTemp_066214 = rename(maxTemp_066214, MaxTemp = Maximum.temperature..Degree.C.)
maxTemp_066214 <- subset(maxTemp_066214, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

maxTemp_066124 = rename(maxTemp_066124, MaxTemp = Maximum.temperature..Degree.C.)
maxTemp_066124 <- subset(maxTemp_066124, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

maxTemp_066212 = rename(maxTemp_066212, MaxTemp = Maximum.temperature..Degree.C.)
maxTemp_066212 <- subset(maxTemp_066212, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

```

Clean minTemp_066214

```{r}
minTemp_066214 = rename(minTemp_066214, MinTemp = Minimum.temperature..Degree.C.)
minTemp_066214$MinTemp <- c(minTemp_066214$MinTemp[-1], 0)
minTemp_066214 <- minTemp_066214[-nrow(minTemp_066214), ]
minTemp_066214 <- subset(minTemp_066214, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

minTemp_066124 = rename(minTemp_066124, MinTemp = Minimum.temperature..Degree.C.)
minTemp_066124$MinTemp <- c(minTemp_066124$MinTemp[-1], 0)
minTemp_066124 <- minTemp_066124[-nrow(minTemp_066124), ]
minTemp_066124 <- subset(minTemp_066124, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))

minTemp_066212 = rename(minTemp_066212, MinTemp = Minimum.temperature..Degree.C.)
minTemp_066212$MinTemp <- c(minTemp_066212$MinTemp[-1], 0)
minTemp_066212 <- minTemp_066212[-nrow(minTemp_066212), ]
minTemp_066212 <- subset(minTemp_066212, (Year>=2022 & Month==12)|(Year>=2023 & Month==1 & Day==1))
```

```{r}
NorthSydney <- data.frame(
  Region = "North Sydney",
  Date = as.Date(ISOdate(rainfall_066214$Year, rainfall_066214$Month, rainfall_066214$Day)),
  Rainfall = rainfall_066214$Rainfall,
  MaxTemp = maxTemp_066214$MaxTemp,
  MinTemp = minTemp_066214$MinTemp
)

write.csv(NorthSydney,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\NorthSydney.csv", row.names = FALSE)
```

```{r}
Chatswood <- data.frame(
  Region = "Chatswood",
  Date = as.Date(ISOdate(rainfall_066214$Year, rainfall_066214$Month, rainfall_066214$Day)),
  Rainfall = rainfall_066213$Rainfall,
  MaxTemp = maxTemp_066214$MaxTemp,
  MinTemp = minTemp_066214$MinTemp
)
write.csv(Chatswood,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\Chatswood.csv", row.names = FALSE)

MacquariePark <- data.frame(
  Region = "Macquarie Park",
  Date = as.Date(ISOdate(rainfall_066213$Year, rainfall_066213$Month, rainfall_066213$Day)),
  Rainfall = rainfall_066213$Rainfall,
  MaxTemp = maxTemp_066212$MaxTemp,
  MinTemp = minTemp_066212$MinTemp
)
write.csv(MacquariePark,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\MacquariePark.csv", row.names = FALSE)

SydneyCBD <- data.frame(
  Region = "Sydney CBD",
  Date = as.Date(ISOdate(rainfall_066214$Year, rainfall_066214$Month, rainfall_066214$Day)),
  Rainfall = rainfall_066214$Rainfall,
  MaxTemp = maxTemp_066214$MaxTemp,
  MinTemp = minTemp_066214$MinTemp
)
write.csv(SydneyCBD,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\SydneyCBD.csv", row.names = FALSE)

Parramatta <- data.frame(
  Region = "Parramatta",
  Date = as.Date(ISOdate(rainfall_066124$Year, rainfall_066124$Month, rainfall_066124$Day)),
  Rainfall = rainfall_066124$Rainfall,
  MaxTemp = maxTemp_066124$MaxTemp,
  MinTemp = minTemp_066124$MinTemp
)
write.csv(Parramatta,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\Parramatta.csv", row.names = FALSE)


Strathfield <- data.frame(
  Region = "Strathfield",
  Date = as.Date(ISOdate(rainfall_066013$Year, rainfall_066013$Month, rainfall_066013$Day)),
  Rainfall = rainfall_066013$Rainfall,
  MaxTemp = maxTemp_066212$MaxTemp,
  MinTemp = minTemp_066212$MinTemp
)
write.csv(Strathfield,"C:\\Users\\Admin\\WinterDatathon\\WDAC_2025_data\\WDAC_2025_data\\WeatherAtRegions\\Strathfield.csv", row.names = FALSE)
```
